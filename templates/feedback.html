<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="{% static 'css/feedback.css' %}">
 <link rel="stylesheet" href="{% static 'css/messages.css' %}">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">
    <title>Feedback Form</title>
</head>
<body>

    {% if messages %}
    <div class="messages-container">
      {% for message in messages %}
          <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
              {{ message }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i style="font-size:16px; color:white;" class="fa cancel-icon" onclick="removeMessage(this)">&#xf00d;</i>
          </div>
      {% endfor %}
  </div>
{% endif %}
    <h1 style=" text-align: center;">Feedback</h1>

{%if all_feedback%}
    <div class="feedbacks">
        <div class="left">
            {% for feed in  all_feedback %}
                <div class="feed_container">
                    
                    
                    <h3><i style="font-size:20px" class="fa">&#xf007;</i> &nbsp;  {{feed.student.username}}</h3>
                    <br>
                       <p>{{feed.feedback_text}}</p>
                       
                        
                    </div>
                
                
            {% endfor %}
   
        </div>
<div class="right">
   



    <form method="post" action="{% url 'feedback' Course.course_id %}">
        {% csrf_token %}
        
        {% comment %} <input type="hidden" name="course_id" value="{{ Course.course_id }}"> {% endcomment %}
        
        <h3 style="text-align:center">Give Us Your Feedback</h3>
        

        
        <textarea name="feedback_text" id="id_feedback_text" required></textarea>

        <div class="button_move2">
            <button class="button_cart">
                <span>Submit</span>
                <svg viewBox="-5 -5 110 110" preserveAspectRatio="none" aria-hidden="true">
                  <path d="M0,0 C0,0 100,0 100,0 C100,0 100,100 100,100 C100,100 0,100 0,100 C0,100 0,0 0,0"/>
                </svg>
              </button>
            </div>
    </form>
    </div>
   
    {%else%}
    <div class="right1">
        
    
    
    
        <form method="post" action="{% url 'feedback' Course.course_id %}">
            {% csrf_token %}
            
            {% comment %} <input type="hidden" name="course_id" value="{{ Course.course_id }}"> {% endcomment %}
            
            <h3 style="text-align:center">Give Us Your Feedback</h3>
    
            
            <textarea name="feedback_text" id="id_feedback_text" required></textarea>
    
            <div class="button_move2">
                <button class="button_cart">
                    <span>Submit</span>
                    <svg viewBox="-5 -5 110 110" preserveAspectRatio="none" aria-hidden="true">
                      <path d="M0,0 C0,0 100,0 100,0 C100,0 100,100 100,100 C100,100 0,100 0,100 C0,100 0,0 0,0"/>
                    </svg>
                  </button>
                </div>
        </form>
        </div>


    {% endif %}


</div>
</div>

<script>
    function removeMessage(icon) {
        // Get the parent message div and remove it
        var messageDiv = icon.parentNode;
        messageDiv.parentNode.removeChild(messageDiv);
    }
</script>
</body>
</html>